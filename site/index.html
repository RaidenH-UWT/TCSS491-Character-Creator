<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <title>TCSS491 Character Creator</title>
        <link rel="icon" type="image/png" href="./icon.png"/> <!-- sets tab icon -->
        <link href="./style.css" rel="stylesheet" type="text/css" media="all"> <!-- stylesheet import -->
    </head>
    <body onload="startGame()">
        <main>
            <div id="leftSidebar" class="sidebar">
                <p>
                Try selecting a base, and then scrolling through the customization options!
                When you're done, press the "Download" button to save an image of your creation!
                </p>
                <p>
                The interface is all mouse-based. You can scroll on the category bar and click
                on categories to see what's in them. You can click on assets inside a category
                to toggle them on and off. Assets that are enabled have a green border. If there
                are more assets than will fit on one page, you can use the arrows to navigate
                between pages.
                </p>
                <p>
                If you're coming here to try out my prototype, I invite you to explore and try
                to break stuff! I would love any and all feedback on what I've implemented so
                far. Additionally, if you'd like to try adding an extension to play around with,
                check out the extension tutorial (which i would also love feedback on! it's over
                on the right sidebar) or try out my <a href="">example</a> to see how it works.
                </p>
                <p>
                I have a lot of features planned for the future (which you can get a peek of in
                my <a href="https://github.com/RaidenH-UWT/TCSS491-Character-Creator/blob/main/README.md">README</a>)
                but for now the main bits are functional! You can add and remove assets, upload
                extensions, and download your creation. Enjoy!
                </p>
            </div>
            
            <div id="rightSidebar" class="sidebar">
                <button onclick="download()">Download</button>
                <p style="border: 4px solid black; margin: 4px; border-radius: 5px; background: #ff0856;">
                Upload extension(s):
                <input id="extensionUpload" type="file" multiple></input>
                </p>
                
                <p>
                Extensions should be <code>.zip</code> files with a <code>specification.toml</code>
                in the root of the folder.
                </p>
                
                <p>
                If you upload an extension, the assets and configuration inside it will be
                added to the program so you can use them! To learn more about how to make an
                extension, you can find the tutorial <a href="https://github.com/RaidenH-UWT/TCSS491-Character-Creator/blob/main/EXTENSIONS.md">here</a>.
                </p>
            </div>
            
            <canvas id="creatorCanvas" width="1024" height="1024" tabindex="0" autofocus></canvas>
            
            <div id="infoBox">
                <h2>Character Creator</h2>
                <h3>Made by Raiden H, for TCSS491 Game and Simulation Design at UWT</h3>
                <p>
                This is a web-based character creator, built with the goals of extensibility (you 
                can extend it!) and documentation. If you'd like to see the code, or extend the 
                creator like i've hinted, you can see the source code <a href="https://github.com/RaidenH-UWT/TCSS491-Character-Creator">here</a>.
                </p>
                <p>
                This project makes use of the <code>smol-toml</code> project made by Squirrel 
                Chat et al. which is licensed under the BSD-3-Clause license. <code>smol-toml</code> 
                can be found <a href="https://github.com/squirrelchat/smol-toml">here</a> and its 
                license can be found <a href="https://github.com/squirrelchat/smol-toml/blob/mistress/LICENSE">here</a>.
                </p>
                <p>
                This project makes use of the <code>JSZip</code> project made by Stuart
                Knightley, David Duponchel, Franz Buchinger, and Ant√≥nio Afonso which is
                licensed under the GPLv3 license. <code>JSZip</code> may be found <a href="https://stuk.github.io/jszip/">here</a>,
                and its license can be found <a href="https://github.com/Stuk/jszip/blob/main/LICENSE.markdown">here</a>.
                </p>
                <p>
                Thanks to my artist friend, Jae, for advice on colour theory in the websites design!
                </p>
                <p>
                This project is licensed under the GPLv3, a copy of which is available <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">here</a>
                as well as in <a href="https://github.com/RaidenH-UWT/TCSS491-Character-Creator">the source repository</a>.
                </p>
            </div>
        </main>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="./scripts/tester.js"></script>
    <script src="./scripts/extension_loader.js"></script>
    <script src="./scripts/util.js"></script>
    <script src="./scripts/timer.js"></script>
    <script src="./scripts/assetmanager.js"></script>
    <script src="./scripts/gameengine.js"></script>
    <script src="./scripts/ui.js"></script>
    <script src="./scripts/asset.js"></script>
    <script src="./scripts/main.js"></script>
    <script>
        function download() {
            let link = document.createElement("a");
            link.download = "image.png";
            
            let downloadCanvas = document.createElement("canvas");
            downloadCanvas.width = 1024;
            downloadCanvas.height = 768;
            downloadCanvas.getContext("2d").drawImage(document.getElementById("creatorCanvas"), 0, 0);
            
            downloadCanvas.toBlob((blob) => {
                link.href = URL.createObjectURL(blob);
                link.click();
            });
        }
    </script>
</html>
